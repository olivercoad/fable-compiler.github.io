<html class="has-navbar-fixed-top" lang="en"><head><title>Fable · Casque Noir: Raising awareness on Haïti social and environmental issues</title><meta http-equiv="content-type" content="text/html; charset=UTF-8" charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" type="text/css" href="/style.css"/><script src="https://unpkg.com/scroll-into-view-if-needed@2.2.28/umd/scroll-into-view-if-needed.min.js"></script></head><body><nav class="navbar is-fixed-top is-spaced"><div class="container"><div class="navbar-brand"><a class="navbar-item title is-4" href="https://fable.io/">Fable</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/docs">Documentation</a><a class="navbar-item is-hidden-mobile" href="/repl/">Try</a><a class="navbar-item is-active" href="/blog/index.html">Blog</a><a class="navbar-item is-hidden-mobile" href="/community.html">Community</a><a class="navbar-item is-hidden-mobile" href="/resources.html">Resources</a><div class="navbar-item navbar-burger-dots is-hidden-tablet"><svg height="4" stroke="none" viewBox="0 0 22 4" width="22"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9,0)"></circle><circle cx="2" cy="2" r="2" transform="translate(18,0)"></circle></svg></div></div><div class="navbar-end is-hidden-mobile"><a class="navbar-item" href="https://github.com/fable-compiler/fable"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a><a class="navbar-item" href="https://twitter.com/FableCompiler"><span class="icon"><i class=" fab fa-twitter fa-lg"></i></span></a><a class="navbar-item" href="https://gitter.im/fable-compiler/Fable"><span class="icon"><i class=" fab fa-gitter fa-lg"></i></span></a><a class="navbar-item" href="https://www.youtube.com/channel/UC6m70Jyr65ogDySbK7aMmzg/videos"><span class="icon"><i class=" fab fa-youtube fa-lg"></i></span></a></div></div><div class="nacara-navbar-menu"><a class="nacara-navbar-menu-item" href="/repl/">Try</a><a class="nacara-navbar-menu-item" href="/community.html">Community</a><a class="nacara-navbar-menu-item" href="/resources.html">Resources</a><a class="nacara-navbar-menu-item" href="https://github.com/fable-compiler/fable">Github</a><a class="nacara-navbar-menu-item" href="https://twitter.com/FableCompiler">Twitter</a><a class="nacara-navbar-menu-item" href="https://gitter.im/fable-compiler/Fable">Gitter</a><a class="nacara-navbar-menu-item" href="https://www.youtube.com/channel/UC6m70Jyr65ogDySbK7aMmzg/videos">Youtube</a></div></div></nav><div class="grey-overlay"></div><div class="nacara-content"><div class="container"><div class="columns"><div class="column is-8-desktop is-offset-2-desktop"><div class="section blog-post"><figure class="image is-96x96 author-image"><img class="is-rounded" src="https://github.com/whitetigle.png"/></figure><h2 class="title is-size-3 has-text-primary has-text-weight-normal has-text-centered blog-title">Casque Noir: Raising awareness on Haïti social and environmental issues</h2><div class="tags has-addons is-justify-content-center"><a class="tag is-rounded is-medium is-primary" href="https://twitter.com/thewhitetigle">François Nicaise</a><span class="tag is-rounded is-medium">June 20, 2017</span></div><div class="content"><style class=grvsc-styles>.grvsc-container{overflow:auto;position:relative;-webkit-overflow-scrolling:touch;padding-top:1rem;padding-top:var(--grvsc-padding-top,var(--grvsc-padding-v,1rem));padding-bottom:1rem;padding-bottom:var(--grvsc-padding-bottom,var(--grvsc-padding-v,1rem));border-radius:8px;border-radius:var(--grvsc-border-radius,8px);font-feature-settings:normal;line-height:1.4}.grvsc-code{display:table}.grvsc-line{display:table-row;box-sizing:border-box;width:100%;position:relative}.grvsc-line>*{position:relative}.grvsc-gutter-pad{display:table-cell;padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-gutter{display:table-cell;-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter::before{content:attr(data-content)}.grvsc-source{display:table-cell;padding-left:1.5rem;padding-left:var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem));padding-right:1.5rem;padding-right:var(--grvsc-padding-right,var(--grvsc-padding-h,1.5rem))}.grvsc-source:empty::after{content:' ';-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter+.grvsc-source{padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line::before{content:' ';position:absolute;width:100%}.grvsc-line-diff-add::before{background-color:var(--grvsc-line-diff-add-background-color,rgba(0,255,60,.2))}.grvsc-line-diff-del::before{background-color:var(--grvsc-line-diff-del-background-color,rgba(255,0,20,.2))}.grvsc-line-number{padding:0 2px;text-align:right;opacity:.7}.atom-one-light{background-color:#fafafa;color:#383a42}.atom-one-light .mtki{font-style:italic}.atom-one-light .mtk14{color:#a626a4}.atom-one-light .mtk1{color:#383a42}.atom-one-light .mtk4{color:#c18401}.atom-one-light .mtk5{color:#e45649}.atom-one-light .mtk10{color:#50a14f}.atom-one-light .mtk7{color:#a0a1a7}.atom-one-light .mtk6{color:#986801}.atom-one-light .grvsc-line-highlighted::before{background-color:var(--grvsc-line-highlighted-background-color,rgba(0,0,0,.05));box-shadow:inset var(--grvsc-line-highlighted-border-width,4px) 0 0 0 var(--grvsc-line-highlighted-border-color,rgba(0,0,0,.2))}</style><p>For several years, Casque Noir, a Canadian non-profit organization, has been researching about urban mutations of Haïti Island's capital, Port-au-Prince's most famous deprived urban neighbourhood: Jalousie</p><img alt=Jalousie src=http://www.casquenoir.com/img/jalousie/j_1_1a.jpg width=800px><p><em>Credit: Nathalie Claude</em><p>One of the main problem in <em>Jalousie</em> is rubbish spreading everywhere, mostly thanks to plastic based items, one being water bags called <em>Alaska</em>. The Guardian made a <a href=https://www.theguardian.com/cities/gallery/2015/sep/28/cleaning-up-haiti-safest-water-source-contaminating-in-pictures>photo report</a> about it a few years ago.</p><img alt="Street filled with rubbish"src=http://www.casquenoir.com/img/jalousie/j_1_1b.jpg width=800px><p><em>Credit: Nathalie Claude</em><p>The <a href=http://www.casquenoir.com/#jalousie>Blok’ô Kalité Materyo project</a> is an initiative to recycle water bags through the creation of light concrete blocks built by mixing platic and concrete.</p><img alt="Blok’ô Kalité Materyo"src=http://www.casquenoir.com/img/jalousie/j_3_1a.jpg width=800px><p><em>Credit: Nathalie Claude</em><h2>The Web site</h2><p>In early 2017, after many trips to Haïti, where she gathered a lot of material, <a href=https://www.linkedin.com/in/nathalie-claude-694a2045/>Nathalie Claude</a>, founder of <a href=https://www.facebook.com/casquenoir2013/>Casque Noir</a> asked <a href=http://www.biensuratelier.com/graphisme.html>Atelier BienSür</a> if it would be possible to make a web documentary to spread the word about Casque Noir's <em>Blok’ô Kalité Materyo</em> project.<p><img alt="The web site"src=https://img15.hostingpics.net/pics/19445179cn.png><p>The main constraint being time: nothing, neither texts nor videos, sounds or photos would be ready before May. And the deadline was set to June the 10th with a public showing the 16th in Montreal.<p>Being a long time partner of <a href=http://www.biensuratelier.com/graphisme.html>Atelier BienSür</a>, Elsa Miquel contacted me to see what could be done technically in less than a month.<p>So with a very early mockup we gathered a list of requirements:<ul><li>fully responsive<li>dynamic and responsive navigation bar<li>full screen photo display<li>photos slideshows<li>videos embeds<li>sounds embeds</ul><h2>The Tech stack</h2><img alt="Fable logo"src=https://user-images.githubusercontent.com/1197905/27047311-56453e74-4fb0-11e7-905c-0a05e5fd87ca.png width=800px><p>Once again, I decided I would go with <a href=http://fable.io/>Fable</a>. And I asked my friend <a href=https://twitter.com/MangelMaxime>Maxime Mangel</a> what he thought about using <a href=https://fable-elmish.github.io/elmish/>Fable-Elmish</a> to build the site. He validated the combo fable-elmish with <a href=http://bulma.io/>bulma css framework</a><h2>The Architecture</h2><p><em>Please have a look at the <a href=https://fable-elmish.github.io/elmish/>Fable-Elmish</a> documentation to understand what follows.</em><p>I ended up with very few Pages:<pre class="atom-one-light grvsc-container"data-index=0 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Page</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>|</span><span class=mtk1> Home</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>|</span><span class=mtk1> About</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>|</span><span class=mtk1> Jalousie</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>|</span><span class=mtk1> Montreal</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>|</span><span class=mtk1> WelcomePage</span></span></span></code></pre><p>The documentary part is split into 2 sections which are:<ol><li><a href=http://www.casquenoir.com/#jalousie>Jalousie</a><li><a href=http://www.casquenoir.com/#montreal>Montreal</a></ol><p>Since each section uses the same layout I decided I would create reusable components such as video embeds:<pre class="atom-one-light grvsc-container"data-index=1 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>youtube</span><span class=mtk1> id </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>realUrl</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> sprintf </span><span class=mtk10>"https://www.youtube.com/embed/</span><span class=mtk14>%s</span><span class=mtk10>?controls=1&#38showinfo=0&#38rel=0&#38autoplay=0&#38loop=1&#38playlist=</span><span class=mtk14>%s</span><span class=mtk10>&#38rel=0&#38modestbranding=1"</span><span class=mtk1> id id</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    div </span><span class=mtk14>[</span><span class=mtk1>ClassName </span><span class=mtk10>"columns"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        div </span><span class=mtk14>[</span><span class=mtk1>ClassName </span><span class=mtk10>"column is-half is-offset-2"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>          </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            div </span><span class=mtk14>[</span><span class=mtk1> ClassName </span><span class=mtk10>"videowrapper"</span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>              </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>              iframe</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                  Src realUrl</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                  unbox</span><span class=mtk14>(</span><span class=mtk10>"frameBorder"</span><span class=mtk14>,</span><span class=mtk10>"0"</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                  unbox</span><span class=mtk14>(</span><span class=mtk10>"allowFullScreen"</span><span class=mtk14>,</span><span class=mtk10>"allowFullScreen"</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                </span><span class=mtk14>[</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>          </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      </span><span class=mtk14>]</span></span></span></code></pre><p>or <a href=http://fontawesome.io/icons/>Font awesome icons</a><pre class="atom-one-light grvsc-container"data-index=2 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>icon</span><span class=mtk1> name css </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    span</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        ClassName </span><span class=mtk14>&#60|</span><span class=mtk1> sprintf </span><span class=mtk10>"icon </span><span class=mtk14>%s</span><span class=mtk10>"</span><span class=mtk1> css</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        unbox</span><span class=mtk14>(</span><span class=mtk10>"aria-hidden"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk10>"true"</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> i </span><span class=mtk14>[</span><span class=mtk1> ClassName </span><span class=mtk14>(</span><span class=mtk1>sprintf </span><span class=mtk10>"fa </span><span class=mtk14>%s</span><span class=mtk10>"</span><span class=mtk1> name</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>]</span></span></span></code></pre><p>For the main layout I ended up with a very simple scheme:<pre class="atom-one-light grvsc-container"data-index=3 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>  div </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>][</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    Navbar.View.root model.navbar </span><span class=mtk14>(</span><span class=mtk1>NavMsg </span><span class=mtk14>>></span><span class=mtk1> dispatch </span><span class=mtk14>)</span><span class=mtk1> model.currentPage </span><span class="mtk7 mtki">//  navigation bar</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    pageHtml model.currentPage </span><span class="mtk7 mtki">// current page</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    Credits.View.root model.credits </span><span class=mtk14>(</span><span class=mtk1>CreditsMsg </span><span class=mtk14>>></span><span class=mtk1> dispatch </span><span class=mtk14>)</span><span class=mtk1> </span><span class="mtk7 mtki">// credits modal</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    Intro.View.root model.intro </span><span class=mtk14>(</span><span class=mtk1>IntroMsg </span><span class=mtk14>>></span><span class=mtk1> dispatch </span><span class=mtk14>)</span><span class=mtk1> </span><span class="mtk7 mtki">// intro modal</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    Partners.View.root model.partners </span><span class=mtk14>(</span><span class=mtk1>PartnersMsg </span><span class=mtk14>>></span><span class=mtk1> dispatch </span><span class=mtk14>)</span><span class=mtk1> </span><span class="mtk7 mtki">// partners modal</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>]</span></span></span></code></pre><p>The <em>Credits</em>, <em>Intro</em> and <em>Partners</em> section are just <a href=http://bulma.io/documentation/components/modal/>modal windows</a> that appear when needed from any section, so I added them in there.<p>The dynamic navigation bar is sticky so I added it there too.<pre class="atom-one-light grvsc-container"data-index=4 data-language=css><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>// </span><span class=mtk14>Sticky navbar</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk6>.nav</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>  position: fixed !important</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>  top: 0</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>  left: 0</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>  right: 0</span></span></span></code></pre><h2>The nav bar</h2><p><img alt="nav bar"src=https://img15.hostingpics.net/pics/904108navbar.gif><p>This is a very important component in the application since it allows user to switch to any section/chapter as well as to subchapters.<p>The links to modal popups works like this:<pre class="atom-one-light grvsc-container"data-index=5 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>    a </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      ClassName </span><span class=mtk10>"nav-item"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      OnClick </span><span class=mtk14>(fun</span><span class=mtk1> _ </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        DisplayCredits </span><span class=mtk6>true</span><span class=mtk1> </span><span class=mtk14>|></span><span class=mtk1> dispatch</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        HideBurger </span><span class=mtk14>|></span><span class=mtk1> dispatch</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      Title title</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str title </span><span class=mtk14>]</span></span></span></code></pre><p>The <code>DisplayCredits</code> message simply toggles the display of the modal window through the use of <code>is-active</code> css class as specified in <a href=http://bulma.io/documentation/components/modal/>Bulma doc</a><p>The <code>HideBurger</code> message hides the burger when the navbar is displayed on mobile phones. Again through the use of <code>is-active</code> css class as specified in <a href=http://bulma.io/documentation/components/nav/>Bulma doc</a><p>The most interesting part being the subsections. Clicking on a chapter number scrolls down the page to the section. So I created <em>scrollableTo</em> component:<pre class="atom-one-light grvsc-container"data-index=6 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>scrollableTo</span><span class=mtk1> css tag elems dispatch</span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>id</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>sprintf </span><span class=mtk10>"nav</span><span class=mtk14>%s</span><span class=mtk10>"</span><span class=mtk1> tag</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  a </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    Id id</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    Href id</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    ClassName css</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    OnClick </span><span class=mtk14>(fun</span><span class=mtk1> _ </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      document.getElementById</span><span class=mtk14>(</span><span class=mtk1> tag </span><span class=mtk14>)</span><span class=mtk1>.scrollIntoView</span><span class=mtk14>()</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      ActivateSection id </span><span class=mtk14>|></span><span class=mtk1> dispatch</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      HideBurger </span><span class=mtk14>|></span><span class=mtk1> dispatch</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      </span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> elems </span><span class=mtk14>]</span></span></span></code></pre><p>The code is pretty straightforward. We ask for the content through the <code>scrollIntoView</code> method. And we send an <code>ActivateSection</code> message which just updates the model with current section id and reloads the view to activate the relevant css class (colored background)<p><img alt="nav bar"src=https://img15.hostingpics.net/pics/904108navbar.gif><p>Regarding the sounds. Each section plays a sound when loaded. The speaker icon on the navbar mutes the sound through a <code>ToggleSound</code> message. I created a simple sound component.<p><em>View</em>:<pre class="atom-one-light grvsc-container"data-index=7 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>sound</span><span class=mtk1> model dispatch </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>icon</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>match</span><span class=mtk1> model.toggleSound </span><span class=mtk14>with</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> </span><span class=mtk6>true</span><span class=mtk1> </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      Components.icon </span><span class=mtk10>"fa-volume-up"</span><span class=mtk1> </span><span class=mtk10>""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> </span><span class=mtk6>false</span><span class=mtk1> </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>      Components.icon </span><span class=mtk10>"fa-volume-off"</span><span class=mtk1> </span><span class=mtk10>""</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  div </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    ClassName </span><span class=mtk10>"nav-item nav-title"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    OnClick </span><span class=mtk14>(</span><span class=mtk1> </span><span class=mtk14>fun</span><span class=mtk1> _ </span><span class=mtk14>-></span><span class=mtk1> ToggleSound </span><span class=mtk14>|></span><span class=mtk1> dispatch </span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    icon</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>]</span></span></span></code></pre><p><em>State</em>:<pre class="atom-one-light grvsc-container"data-index=8 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>match</span><span class=mtk1> msg </span><span class=mtk14>with</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk14>|</span><span class=mtk1> ToggleSound  </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>value</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>not</span><span class=mtk1> model.toggleSound</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>match</span><span class=mtk1> value </span><span class=mtk14>with</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> </span><span class=mtk6>true</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> Waud.setVolume </span><span class=mtk6>1.0</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> </span><span class=mtk6>false</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> Waud.setVolume </span><span class=mtk6>0.0</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>{</span><span class=mtk1> model </span><span class=mtk14>with</span><span class=mtk1> toggleSound </span><span class=mtk14>=</span><span class=mtk1> value</span><span class=mtk14>},</span><span class=mtk1> </span><span class=mtk14>[]</span></span></span></code></pre><h2>Straightforward development</h2><p>The only external library I ended up using was <a href=http://www.waudjs.com/>Waud.js</a> for the sound which offers many cool features, among others <strong>automute</strong> when we quit the web site to another tab or use another app.<p>All the other components were created for the app.<h2>Conclusion</h2><p><img alt="Fable... What else ?"src=https://i.imgflip.com/1qzmbn.jpg><p>As a freelancer I don't have much time for<ul><li>debugging runtime errors<li>costly maintenance after release</ul><p>Usually my clients want more features for less money and of course <em>stability</em><p>So in the search of a path for rapid and robust development, once again, Fable and Fable-Elmish just allowed me to do the job in due time.<p>Remember me: <em>If it compiles = it works!</em></div></div></div></div></div></div><script async="" src="/resources/nacara-standard-layouts/scripts/menu.js"></script></body></html>