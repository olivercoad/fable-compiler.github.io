<html class="has-navbar-fixed-top" lang="en"><head><title>Fable Â· Build &amp; run</title><meta http-equiv="content-type" content="text/html; charset=UTF-8" charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" type="text/css" href="/style.css"/><script src="https://unpkg.com/scroll-into-view-if-needed@2.2.28/umd/scroll-into-view-if-needed.min.js"></script></head><body><nav class="navbar is-fixed-top is-spaced"><div class="container"><div class="navbar-brand"><a class="navbar-item title is-4" href="https://fable.io/">Fable</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/docs">Documentation</a><a class="navbar-item is-hidden-mobile" href="/repl/">Try</a><a class="navbar-item" href="/blog/index.html">Blog</a><a class="navbar-item is-hidden-mobile" href="/community.html">Community</a><a class="navbar-item is-hidden-mobile" href="/resources.html">Resources</a><div class="navbar-item navbar-burger-dots is-hidden-tablet"><svg height="4" stroke="none" viewBox="0 0 22 4" width="22"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9,0)"></circle><circle cx="2" cy="2" r="2" transform="translate(18,0)"></circle></svg></div></div><div class="navbar-end is-hidden-mobile"><a class="navbar-item" href="https://github.com/fable-compiler/fable"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a><a class="navbar-item" href="https://twitter.com/FableCompiler"><span class="icon"><i class=" fab fa-twitter fa-lg"></i></span></a><a class="navbar-item" href="https://gitter.im/fable-compiler/Fable"><span class="icon"><i class=" fab fa-gitter fa-lg"></i></span></a><a class="navbar-item" href="https://www.youtube.com/channel/UC6m70Jyr65ogDySbK7aMmzg/videos"><span class="icon"><i class=" fab fa-youtube fa-lg"></i></span></a></div></div><div class="nacara-navbar-menu"><a class="nacara-navbar-menu-item" href="/repl/">Try</a><a class="nacara-navbar-menu-item" href="/community.html">Community</a><a class="nacara-navbar-menu-item" href="/resources.html">Resources</a><a class="nacara-navbar-menu-item" href="https://github.com/fable-compiler/fable">Github</a><a class="nacara-navbar-menu-item" href="https://twitter.com/FableCompiler">Twitter</a><a class="nacara-navbar-menu-item" href="https://gitter.im/fable-compiler/Fable">Gitter</a><a class="nacara-navbar-menu-item" href="https://www.youtube.com/channel/UC6m70Jyr65ogDySbK7aMmzg/videos">Youtube</a></div></div></nav><div class="grey-overlay"></div><div class="nacara-content"><div class="container"><div class="mobile-menu"><nav class="breadcrumb"><ul><li><a class="menu-trigger"><span></span><span></span><span></span></a></li><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>Your Fable project</a></li><li class="is-active"><a>Build &amp; run</a></li></ul></nav></div><div class="columns is-gapless is-mobile"><div class="column is-menu-column is-3-desktop is-hidden-touch"><div class="menu-container"><aside class="menu"><p class="menu-label">Introduction</p><ul class="menu-list"><li><a class=" " href="/docs/index.html">What is Fable?</a></li><li><a class=" " href="/docs/introduction/dotnet-users-read-this.html">Are you a .NET developer?</a></li><li><a class=" " href="/docs/introduction/js-users-read-this.html">Are you a JS developer?</a></li></ul><p class="menu-label">New to F#?</p><ul class="menu-list"><li><a class=" " href="/docs/new-to-fsharp/learning-the-language.html">Learning the language</a></li><li><a class=" " href="/docs/new-to-fsharp/let-keyword.html">The let keyword</a></li></ul><p class="menu-label">Fable in 2 steps</p><ul class="menu-list"><li><a class=" " href="/docs/2-steps/setup.html">Setup</a></li><li><a class=" " href="/docs/2-steps/your-first-fable-project.html">Start a new project</a></li></ul><p class="menu-label">Your Fable project</p><ul class="menu-list"><li><a class=" " href="/docs/your-fable-project/project-file.html">The project file</a></li><li><a class=" " href="/docs/your-fable-project/use-a-fable-library.html">Use a Fable library</a></li><li><a class=" " href="/docs/your-fable-project/author-a-fable-library.html">Author a Fable library</a></li><li><a class=" is-active" href="/docs/your-fable-project/build-and-run.html">Build &amp; run</a></li><li><a class=" " href="/docs/your-fable-project/testing.html">Testing</a></li></ul><p class="menu-label">Communicate with Javascript</p><ul class="menu-list"><li><a class=" " href="/docs/communicate/js-from-fable.html">Call JS from Fable</a></li><li><a class=" " href="/docs/communicate/fable-from-js.html">Call Fable from JavaScript</a></li></ul><p class="menu-label">From .NET to Fable</p><ul class="menu-list"><li><a class=" " href="/docs/dotnet/compatibility.html">.NET and F# compatibility</a></li><li><a class=" " href="/docs/dotnet/numbers.html">Numeric types</a></li></ul><p class="menu-label">Miscellaneous</p><ul class="menu-list"><li><a class=" " href="/docs/miscellaneous/official-samples.html">Check official samples</a></li><li><a class=" " href="/docs/miscellaneous/fable-in-videos.html">Fable in videos</a></li></ul></aside></div></div><div class="column is-8-desktop is-full-touch"><section class="section"><div class="content"><header class="page-header"><div class="columns is-vcentered"><div class="column"><nav class="breadcrumb is-category-navigation is-hidden-touch"><ul><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>Your Fable project</a></li><li class="is-active"><a>Build &amp; run</a></li></ul></nav></div><div class="column is-narrow"><a class="button is-hidden-touch is-ghost" target="_blank" href="https://github.com/fable-compiler/fable-compiler.github.io/edit/dev/docs/docs/your-fable-project/build-and-run.md">Edit</a></div></div><h1 class="title is-1">Build &amp; run</h1></header><div><style class=grvsc-styles>.grvsc-container{overflow:auto;position:relative;-webkit-overflow-scrolling:touch;padding-top:1rem;padding-top:var(--grvsc-padding-top,var(--grvsc-padding-v,1rem));padding-bottom:1rem;padding-bottom:var(--grvsc-padding-bottom,var(--grvsc-padding-v,1rem));border-radius:8px;border-radius:var(--grvsc-border-radius,8px);font-feature-settings:normal;line-height:1.4}.grvsc-code{display:table}.grvsc-line{display:table-row;box-sizing:border-box;width:100%;position:relative}.grvsc-line>*{position:relative}.grvsc-gutter-pad{display:table-cell;padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-gutter{display:table-cell;-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter::before{content:attr(data-content)}.grvsc-source{display:table-cell;padding-left:1.5rem;padding-left:var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem));padding-right:1.5rem;padding-right:var(--grvsc-padding-right,var(--grvsc-padding-h,1.5rem))}.grvsc-source:empty::after{content:' ';-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter+.grvsc-source{padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line::before{content:' ';position:absolute;width:100%}.grvsc-line-diff-add::before{background-color:var(--grvsc-line-diff-add-background-color,rgba(0,255,60,.2))}.grvsc-line-diff-del::before{background-color:var(--grvsc-line-diff-del-background-color,rgba(255,0,20,.2))}.grvsc-line-number{padding:0 2px;text-align:right;opacity:.7}.atom-one-light{background-color:#fafafa;color:#383a42}.atom-one-light .mtk1{color:#383a42}.atom-one-light .mtk10{color:#50a14f}.atom-one-light .mtk5{color:#e45649}.atom-one-light .grvsc-line-highlighted::before{background-color:var(--grvsc-line-highlighted-background-color,rgba(0,0,0,.05));box-shadow:inset var(--grvsc-line-highlighted-border-width,4px) 0 0 0 var(--grvsc-line-highlighted-border-color,rgba(0,0,0,.2))}</style><p>Your project is ready? Then it's time to build and run it.<p>This process, however, is different depending on whether we are still in development or we are already preparing the project to deploy it to production. In development we don't care so much about optimizations and we want fast builds so we can see the results of our changes on-screen almost immediately. While for production we can endure a slower build in order to get JS code that is more optimized.<p>Webpack can be a bit difficult to configure. Most of the <a href=https://github.com/fable-compiler/fable3-samples>samples</a> have a <code>webpack.config.js</code> file that you can use for reference. And there's also a <a href=https://github.com/fable-compiler/webpack-config-template/blob/master/webpack.config.js>webpack config template for Fable</a> that is prepared to work in most projects.<h2 id=development>Development<a href=#development aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>Even if we already have our own server, when developing our frontend we want a server that is capable of detecting changes in the code and load them without restarting the app! This is what <a href=https://github.com/webpack/webpack-dev-server>webpack-dev-server</a> does, so normally we'll be running it together with Fable in watch mode, as in <code>dotnet fable watch src --run webpack serve src/App.fs.js --mode development</code><blockquote><p>In most Fable projects, we use a <code>webpack.config.js</code> file to pass arguments to Webpack so you will only see the <code>webpack serve</code> command.</blockquote><p>If you use <a href=https://docs.npmjs.com/misc/scripts>npm-scripts</a> as shortcuts for common actions, it's customary to use <code>npm start</code> to run in development mode. Example of <code>package.json</code>:<pre class="atom-one-light grvsc-container"data-index=0 data-language=json><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk10>"scripts"</span><span class=mtk1>: {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>"start"</span><span class=mtk1>: </span><span class=mtk10>"dotnet fable watch src --run webpack serve"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  },</span></span></span></code></pre><blockquote><p>If you also have your own server, you probably want to redirect API calls to it. You can use the <a href=https://webpack.js.org/configuration/dev-server#devserverproxy>devServer.proxy</a> Webpack configuration option for that.</blockquote><p>The webpack-dev-server will keep running until you kill the process, picking up the changes in your code after you save a file. If you use <a href=https://elmish.github.io/hmr/>Hot Module Replacement</a> it will try to inject the changes without restarting the app. Otherwise it will just refresh the web page.<p>Note that webpack-dev-server serves the generated files from memory and doesn't actually write to disk. We will do that in the next step: building for production!<h2 id=production>Production<a href=#production aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>When preparing the files for deployment, we don't need a special server. We can call Webpack CLI directly in production mode to enable optimizations like <a href=https://webpack.js.org/configuration/optimization#optimizationminimize>JS minification</a>: <code>dotnet fable src --run webpack --mode production</code>.<blockquote><p>As before, in most configurations you don't need to set the <code>--mode</code> argument explicitly. And it's also customary to have a "build" (or sometimes "deploy") npm-script for this operation:</blockquote><pre class="atom-one-light grvsc-container"data-index=1 data-language=json><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>  </span><span class=mtk10>"scripts"</span><span class=mtk1>: {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>"start"</span><span class=mtk1>: </span><span class=mtk10>"dotnet fable watch src --run webpack serve"</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>"build"</span><span class=mtk1>: </span><span class=mtk10>"dotnet fable src --run webpack"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  },</span></span></span></code></pre><p>Webpack will run only once and will write the generated files in the <a href=https://webpack.js.org/configuration/output#outputpath>output.path</a>. This is the directory you have to deploy to your host!<h2 id=i-dont-want-to-use-webpack>I don't want to use Webpack<a href=#i-dont-want-to-use-webpack aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>Then, depending on the sample you've chosen, build options may differ. Please refer to the README file for the chosen sample to get more information.</div></div></section><div class="section bd-docs-pagination bd-pagination-links"><a class="button bd-fat-button is-primary is-light bd-pagination-prev" href="/docs/your-fable-project/author-a-fable-library.html"><i>â</i><span class="is-hidden-mobile"><em>Your Fable project</em><strong>Author a Fable library</strong></span></a><a class="button bd-fat-button is-primary is-light bd-pagination-next" href="/docs/your-fable-project/testing.html"><span class="is-hidden-mobile"><em>Your Fable project</em><strong>Testing</strong></span><i>â</i></a></div></div></div></div></div><script async="" src="/resources/nacara-standard-layouts/scripts/menu.js"></script></body></html>